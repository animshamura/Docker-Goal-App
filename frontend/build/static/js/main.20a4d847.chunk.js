(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],[,,,,,,,,,function(e,t,n){e.exports=n(21)},,,,,function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(7),c=n.n(o),l=(n(14),n(8)),s=n(1),i=n.n(s),u=n(5),f=n(2);n(16),n(17);var d=function(e){return r.a.createElement("div",{className:"card"},e.children)};var p=function(e){var t=Object(a.useState)(""),n=Object(f.a)(t,2),o=n[0],c=n[1];return r.a.createElement("section",{id:"goal-input"},r.a.createElement(d,null,r.a.createElement("form",{onSubmit:function(t){t.preventDefault(),0!==o.trim().length?(e.onAddGoal(o),c("")):alert("Invalid text - please enter a longer one!")}},r.a.createElement("label",{htmlFor:"text"},"New Goal"),r.a.createElement("input",{type:"text",id:"text",value:o,onChange:function(e){c(e.target.value)}}),r.a.createElement("button",null,"Add Goal"))))};n(18),n(19);var m=function(e){return r.a.createElement("li",{className:"goal-item",onClick:e.onDelete.bind(null,e.id)},e.text)};var h=function(e){var t=!e.goals||0===e.goals.length;return r.a.createElement("section",{id:"course-goals"},r.a.createElement(d,null,r.a.createElement("h2",null,"Your Goals"),t&&r.a.createElement("h2",null,"No goals found. Start adding some!"),r.a.createElement("ul",null,e.goals.map((function(t){return r.a.createElement(m,{key:t.id,id:t.id,text:t.text,onDelete:e.onDeleteGoal})})))))};n(20);var g=function(e){return r.a.createElement("section",{className:"error-alert"},r.a.createElement("h2",null,"Something went wrong!"),r.a.createElement("p",null,e.errorText))};var v=function(){var e=Object(a.useState)([]),t=Object(f.a)(e,2),n=t[0],o=t[1],c=Object(a.useState)(!1),s=Object(f.a)(c,2),d=s[0],m=s[1],v=Object(a.useState)(null),E=Object(f.a)(v,2),x=E[0],b=E[1];function w(){return(w=Object(u.a)(i.a.mark((function e(t){var n,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),e.prev=1,e.next=4,fetch("/api/goals/",{method:"POST",body:JSON.stringify({text:t}),headers:{"Content-Type":"application/json"}});case 4:return n=e.sent,e.next=7,n.json();case 7:if(a=e.sent,n.ok){e.next=10;break}throw new Error(a.message||"Adding the goal failed.");case 10:o((function(e){return[{id:a.goal.id,text:t}].concat(Object(l.a)(e))})),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),b(e.t0.message||"Adding a goal failed - the server responsed with an error.");case 16:m(!1);case 17:case"end":return e.stop()}}),e,null,[[1,13]])})))).apply(this,arguments)}function j(){return(j=Object(u.a)(i.a.mark((function e(t){var n,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),e.prev=1,e.next=4,fetch("/api/goals/"+t,{method:"DELETE"});case 4:return n=e.sent,e.next=7,n.json();case 7:if(a=e.sent,n.ok){e.next=10;break}throw new Error(a.message||"Deleting the goal failed.");case 10:o((function(e){return e.filter((function(e){return e.id!==t}))})),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),b(e.t0.message||"Deleting the goal failed - the server responsed with an error.");case 16:m(!1);case 17:case"end":return e.stop()}}),e,null,[[1,13]])})))).apply(this,arguments)}return Object(a.useEffect)((function(){function e(){return(e=Object(u.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),e.prev=1,e.next=4,fetch("/api/goals/");case 4:return t=e.sent,e.next=7,t.json();case 7:if(n=e.sent,t.ok){e.next=10;break}throw new Error(n.message||"Fetching the goals failed.");case 10:o(n.goals),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),b(e.t0.message||"Fetching goals failed - the server responsed with an error.");case 16:m(!1);case 17:case"end":return e.stop()}}),e,null,[[1,13]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),r.a.createElement("div",null,x&&r.a.createElement(g,{errorText:x}),r.a.createElement(p,{onAddGoal:function(e){return w.apply(this,arguments)}}),!d&&r.a.createElement(h,{goals:n,onDeleteGoal:function(e){return j.apply(this,arguments)}}))};c.a.render(r.a.createElement(v,null),document.getElementById("root"))}],[[9,1,2]]]);
//# sourceMappingURL=main.20a4d847.chunk.js.map